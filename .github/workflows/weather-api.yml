name: weather-api
on:
  workflow_dispatch:
  push:
    branches: [ main ]
    paths:
      - weather-api/**
      - .github/workflows/weather-api.yml
      - .github/workflows/terraform.yml

jobs:
  provision:
    uses: ./.github/workflows/terraform.yml
    with:
      name: weather-api
    secrets:
      tf_token: ${{ secrets.tf_token }}
